<launch>
  <!-- 1. 启动仿真世界 -->
  <include file="$(find uuv_gazebo_worlds)/launch/auv_underwater_world.launch"/>

  <!-- 2. 上载 AUH 模型描述 -->
  <include file="$(find auh_description)/launch/upload_auh_default.launch"/>

  <!-- 3. 启动推进器管理器 -->
  <include file="$(find auh_thrust_manager)/launch/thrust_manager.launch"/>

  <!-- 启动变量提取器 -->
  <node pkg="variable_extractor"
        type="variable_extractor_node"
        name="variable_extractor_node"
        output="screen">
    <param name="vehicle_name" value="auh" />
    <param name="debug" value="false" />
  </node>

  <!-- 启动控制器管理器 -->
  <node pkg="controller_manager"
        type="controller_manager_node"
        name="controller_manager_node"
        output="screen">
    <param name="controllers_config" value="$(find controller_manager)/config/controllers.yaml" />
  </node>

  <!-- 启动 ros_helm，运行 alpha.bhv 行为 -->
  <rosparam command="load"
            file="$(find ros_helm)/config/ros/params.yaml"
            ns="ros_helm_node" />
  <node pkg="ros_helm" type="ros_helm_node" name="ros_helm_node" output="screen">
    <param name="config_path" value="$(find ros_helm)/config/helm/startHelm.yaml" />
  </node>

    <!-- 临时发布 desired_pitch 为 0 -->
  <node pkg="rostopic"
        type="rostopic"
        name="desired_pitch_zero_pub"
        args="pub -r 10 /auh/desired_pitch std_msgs/Float64 0.0"
        output="screen" />

</launch>
